{"version":3,"sources":["webpack:///./src/services/auth-header.js","webpack:///./src/services/user.service.js","webpack:///./src/components/CallBack.vue","webpack:///./src/components/CallBack.vue?46ac"],"names":["authHeader","user","JSON","parse","localStorage","getItem","accessToken","Authorization","API_URL","UserService","idUser","text","axios","post","headers","get","idTodo","delete","put","title","idEntry","class","role","addCallBack","cbTitle","name","autocomplete","placeholder","cbText","isSent","data","mounted","this","$store","state","auth","id","methods","addCallback","then","error","console","log","response","message","toString","render","__scopeId"],"mappings":"mKAAe,SAASA,IACtB,IAAIC,EAAOC,KAAKC,MAAMC,aAAaC,QAAQ,SAC3C,OAAIJ,GAAQA,EAAKK,YACR,CAAEC,cAAe,UAAYN,EAAKK,aAElC,GCFX,IAAME,EAAU,kCAEVC,E,6FACJ,SAAQC,EAAOC,GACb,OAAOC,IAAMC,KAAKL,EAAUE,EAAO,SAAU,CAACC,KAAKA,EAAMG,QAASd,Q,sBAGpE,SAASU,GACP,OAAOE,IAAMG,IAAIP,EAAUE,EAAO,SAAU,CAAEI,QAASd,Q,wBAEzD,SAAWU,EAAQM,GACjB,OAAOJ,IAAMK,OAAOT,EAAUE,EAAO,UAAUM,EAAQ,CAAEF,QAASd,Q,wBAEpE,SAAWU,EAAQM,GACjB,OAAOJ,IAAMM,IAAIV,EAAUE,EAAO,UAAUM,EAAO,UAAW,CAAEF,QAASd,Q,sBAK3E,SAASU,EAAOS,EAAMR,GACpB,OAAOC,IAAMC,KAAKL,EAAUE,EAAO,WAAY,CAACS,MAAMA,EAAMR,KAAKA,EAAMG,QAASd,Q,wBAElF,SAAWU,GACT,OAAOE,IAAMG,IAAIP,EAAUE,EAAO,WAAY,CAAEI,QAASd,Q,yBAE3D,SAAYU,EAAQU,GAClB,OAAOR,IAAMK,OAAOT,EAAUE,EAAO,YAAYU,EAAS,CAAEN,QAASd,Q,uBAEvE,SAAUU,EAAQU,EAAQD,EAAMR,GAC9B,OAAOC,IAAMM,IAAIV,EAAUE,EAAO,YAAYU,EAAS,CAACD,MAAMA,EAAMR,KAAKA,EAAMG,QAASd,Q,yBAI1F,SAAYU,GACV,OAAOE,IAAMG,IAAIP,EAAUE,EAAO,YAAa,CAAEI,QAASd,Q,yBAI5D,SAAYU,EAAOS,EAAMR,GACvB,OAAOC,IAAMC,KAAKL,EAAUE,EAAO,aAAc,CAACS,MAAMA,EAAMR,KAAKA,EAAOG,QAASd,Q,0BAIrF,SAAaU,GACX,OAAOE,IAAMG,IAAI,mCAAqCL,EAAO,aAAc,CAAEI,QAASd,U,KAK3E,WAAIS,G,wICnDbY,MAAM,2C,GAEFA,MAAM,e,EAIT,eAAiE,UAAzDA,MAAM,kCAAiC,aAAS,G,SACrCA,MAAM,uBAAuBC,KAAK,S,wEAP3D,eAUM,MAVN,EAUM,CATJ,eAQO,QARA,SAAM,+CAAU,EAAAC,gBAAW,cAAIF,MAAM,Q,CAC1C,eAMM,MANN,EAMM,C,eALJ,eAAwG,SAAjGA,MAAM,oB,qDAA6B,EAAAG,QAAO,IAAEC,KAAK,UAAUC,aAAa,MAAMC,YAAY,Q,mBAAvD,EAAAH,W,eAC1C,eACW,YADAH,MAAM,oB,qDAA6B,EAAAO,OAAM,IAAEH,KAAK,SAASC,aAAa,MAAMC,YAAY,SAAQ,cAC3G,M,QAD8C,EAAAC,UAE9C,EACW,EAAAC,Q,iBAAX,eAA8E,MAA9E,EAA6D,gB,oEAQrD,GACfJ,KAAM,WACJK,KAFa,WAGX,MAAO,CACLN,QAAS,GACTI,OAAS,GACTlB,OAAQ,EACRmB,QAAO,IAGXE,QAVa,WAWXC,KAAKtB,OAAQsB,KAAKC,OAAOC,MAAMC,KAAKlC,KAAKmC,IAE3CC,QAAQ,CACNd,YADM,WACO,WACX,OAAYe,YAAYN,KAAKtB,OAAOsB,KAAKR,QAAQQ,KAAKJ,QAAQW,MAC1D,WACE,EAAKV,QAAO,KAEd,SAACW,GACCC,QAAQC,IAAKF,EAAMG,UACfH,EAAMG,SAASb,MACfU,EAAMG,SAASb,KAAKc,SACpBJ,EAAMI,SACNJ,EAAMK,kBCrCtB,EAAOC,OAASA,EAChB,EAAOC,UAAY,kBAEJ","file":"js/chunk-15b21b1e.1459dfdd.js","sourcesContent":["export default function authHeader() {\n  let user = JSON.parse(localStorage.getItem('user'));\n  if (user && user.accessToken) {\n    return { Authorization: 'Bearer ' + user.accessToken };\n  } else {\n    return {};\n  }\n}\n","import axios from 'axios';\nimport authHeader from './auth-header';\n\nconst API_URL = 'http://localhost:8089/api/user/';\n\nclass UserService {\n  addTodo(idUser,text) {\n    return axios.post(API_URL + idUser+'/todos', {text:text ,headers: authHeader() });\n  }\n  //Todos\n  getTodos(idUser) {\n    return axios.get(API_URL + idUser+'/todos', { headers: authHeader() });\n  }\n  removeTodo(idUser, idTodo) {\n    return axios.delete(API_URL + idUser+'/todos/'+idTodo, { headers: authHeader() });\n  }\n  toggleTodo(idUser, idTodo) {\n    return axios.put(API_URL + idUser+'/todos/'+idTodo+'/toggle', { headers: authHeader() });\n  }\n\n  //Entries\n\n  addEntry(idUser,title,text) {\n    return axios.post(API_URL + idUser+'/entries', {title:title,text:text ,headers: authHeader() });\n  }\n  getEntries(idUser){\n    return axios.get(API_URL + idUser+'/entries', { headers: authHeader() });\n  }\n  removeEntry(idUser, idEntry) {\n    return axios.delete(API_URL + idUser+'/entries/'+idEntry, { headers: authHeader() });\n  }\n  editEntry(idUser, idEntry,title,text) {\n    return axios.put(API_URL + idUser+'/entries/'+idEntry, {title:title,text:text, headers: authHeader() });\n  }\n\n  //UserActivity\n  getActivity(idUser){\n    return axios.get(API_URL + idUser+'/activity', { headers: authHeader() })\n  }\n\n  //CallBack\n  addCallback(idUser,title,text){\n    return axios.post(API_URL + idUser+'/callbacks', {title:title,text:text,  headers: authHeader() })\n  }\n\n  //Admin\n  getCallbacks(idUser) {\n    return axios.get('http://localhost:8089/api/admin/' + idUser+'/callbacks', { headers: authHeader() });\n  }\n\n}\n\nexport default new UserService();\n","<template>\r\n <div class=\"container d-flex justify-content-center\">\r\n   <form @submit.prevent=\"addCallBack()\" class=\"mt-4\">\r\n     <div class=\"form-group \">\r\n       <input class=\"form-control mb-4\" v-model=\"cbTitle\" name=\"cbTitle\" autocomplete=\"off\" placeholder=\"Тема\">\r\n       <textarea  class=\"form-control mb-4\" v-model=\"cbText\" name=\"cbText\" autocomplete=\"off\" placeholder=\"Текст\">\r\n       </textarea>\r\n       <button class=\"form-control btn btn-secondary\">Отправить</button>\r\n       <div v-if=\"isSent\" class=\" alert alert-success\" role=\"alert\">Отправлено!</div>\r\n     </div>\r\n   </form>\r\n </div>\r\n</template>\r\n\r\n<script>\r\nimport UserService from \"../services/user.service\";\r\nexport default {\r\nname: \"CallBack\",\r\n  data() {\r\n    return {\r\n      cbTitle: \"\",\r\n      cbText : \"\",\r\n      idUser: 0,\r\n      isSent:false,\r\n    };\r\n  },\r\n  mounted() {\r\n    this.idUser =this.$store.state.auth.user.id\r\n  },\r\n  methods:{\r\n    addCallBack(){\r\n      UserService.addCallback(this.idUser,this.cbTitle,this.cbText).then(\r\n          () => {\r\n            this.isSent=true\r\n          },\r\n          (error) => {\r\n            console.log((error.response &&\r\n                error.response.data &&\r\n                error.response.data.message) ||\r\n                error.message ||\r\n                error.toString());\r\n          }\r\n      );\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>","import { render } from \"./CallBack.vue?vue&type=template&id=c30f31b4&scoped=true\"\nimport script from \"./CallBack.vue?vue&type=script&lang=js\"\nexport * from \"./CallBack.vue?vue&type=script&lang=js\"\nscript.render = render\nscript.__scopeId = \"data-v-c30f31b4\"\n\nexport default script"],"sourceRoot":""}